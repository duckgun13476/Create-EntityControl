1.Change main logic from overwrite to Inject to enhance compatible.